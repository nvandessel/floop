{"id":"feedback-loop-0k8","title":"Implement GraphStore interface and InMemoryGraphStore","description":"Create internal/store/store.go (GraphStore interface, Node, Edge, Direction types) and internal/store/memory.go (InMemoryGraphStore implementation). Follow patterns from SPEC.md. Include basic tests.","status":"closed","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T16:42:41.662269043-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-25T17:22:58.557952564-08:00","closed_at":"2026-01-25T17:22:58.557952564-08:00","close_reason":"Implemented GraphStore interface (store.go) and InMemoryGraphStore (memory.go) with full test coverage","dependencies":[{"issue_id":"feedback-loop-0k8","depends_on_id":"feedback-loop-mz2","type":"blocks","created_at":"2026-01-25T16:42:48.46298508-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-0o3","title":"Phase 2: Learning loop","status":"closed","priority":2,"issue_type":"epic","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T16:20:49.568156186-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-25T17:59:48.975649025-08:00","closed_at":"2026-01-25T17:59:48.975649025-08:00","close_reason":"Implemented Phase 2 Learning Loop: CorrectionCapture, BehaviorExtractor, GraphPlacer, LearningLoop orchestrator, and CLI integration"}
{"id":"feedback-loop-0z3","title":"Implement floop CLI with version, init, and list commands","description":"Create cmd/floop/main.go with Cobra CLI setup. Implement: floop version (print version), floop init (create .floop/ directory with manifest.yaml), floop list (show all behaviors, support --json flag). Wire up to InMemoryGraphStore initially.","status":"closed","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T16:42:42.59939606-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-25T17:40:19.504820509-08:00","closed_at":"2026-01-25T17:40:19.504820509-08:00","close_reason":"CLI commands implemented and working (version, init, list, learn). Acceptance criteria met. Note: CLI is a standalone stub - integration with internal packages tracked in feedback-loop-7b0.","dependencies":[{"issue_id":"feedback-loop-0z3","depends_on_id":"feedback-loop-0k8","type":"blocks","created_at":"2026-01-25T16:42:49.916496606-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-2bg","title":"Create project directory structure","description":"Set up the Go project structure: cmd/floop/, internal/{models,store,learning,activation,assembly}/, pkg/. Initialize go.mod with github.com/nvandessel/feedback-loop","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T16:40:21.411419485-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-25T16:42:02.051826564-08:00","closed_at":"2026-01-25T16:42:02.051826564-08:00","close_reason":"Directory structure created: cmd/floop/, internal/{models,store,learning,activation,assembly}/, pkg/types/. Removed old cmd/bg/ directory. go.mod already initialized."}
{"id":"feedback-loop-2vt","title":"Create floop integration documentation structure","description":"Create docs/integrations/ directory structure with README.md overview and templates/ directory for tool-specific configuration templates.\n\n## Deliverables\n1. `docs/integrations/README.md` - Overview of integration options\n2. `docs/integrations/templates/` - Template configuration files\n3. Update main README.md to reference integration docs\n\n## Structure\n```\ndocs/integrations/\n├── README.md           # Overview and quick-start\n├── claude-code.md      # (separate bead)\n├── codex.md            # (separate bead)\n├── aider.md            # (separate bead)\n├── cursor.md           # (separate bead)\n├── cline.md            # (separate bead)\n├── continue.md         # (separate bead)\n├── windsurf.md         # (separate bead)\n├── github-copilot.md   # (separate bead)\n└── templates/\n    ├── AGENTS.md.template\n    ├── CONVENTIONS.md.template\n    └── mcp-config.json.template\n```","status":"open","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T08:21:46.928298747-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T08:21:46.928298747-08:00"}
{"id":"feedback-loop-3er","title":"Write Cline integration guide","description":"Create comprehensive integration guide for Cline VS Code extension.\n\n## Research Findings (from e2d investigation)\n\n### Extension Points\n1. **.clinerules/** - Directory of markdown rule files\n2. **Hooks** (v3.36+) - `TaskStart`, `UserPromptSubmit`, `PostToolUse`, etc.\n3. **Memory Bank** - Community pattern for persistent context\n4. **MCP servers** - Full MCP support\n5. **AI-editable rules** - Cline can modify its own .clinerules\n\n### Hooks (Best for floop - macOS/Linux only)\n- `TaskStart` - Load behaviors at task start\n- `UserPromptSubmit` - Detect corrections\n- Hooks receive JSON input, output `{\"cancel\": bool, \"contextModification\": string}`\n\n### Deliverables\n1. `docs/integrations/cline.md` - Full guide with:\n   - Overview of Cline extension mechanisms\n   - Quick start with .clinerules\n   - Full configuration with hooks\n   - Memory Bank integration\n   - MCP server option\n   - Troubleshooting\n2. `templates/cline/` directory with:\n   - `floop.md` rules template\n   - Hook scripts (TaskStart, UserPromptSubmit)\n   - MCP config template\n\n### Key Hooks Example\n```bash\n#\\!/bin/bash\n# .clinerules/hooks/TaskStart\ninput=$(cat)\ntask=$(echo \"$input\" | jq -r '.taskDescription')\nbehaviors=$(floop active --task \"$task\" --json)\njq -n --arg ctx \"FLOOP BEHAVIORS: $behaviors\" '{\"cancel\":false,\"contextModification\":$ctx}'\n```\n\n### Limitations\n- Hooks are macOS/Linux ONLY (Windows not supported)\n- Requires Cline v3.36+\n- Memory Bank is convention, not built-in feature\n- Paths with spaces may cause hook failures\n\n### Sources\n- https://docs.cline.bot/features/hooks\n- https://docs.cline.bot/features/cline-rules\n- https://docs.cline.bot/prompting/cline-memory-bank","status":"open","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T08:32:16.60516401-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T08:32:16.60516401-08:00"}
{"id":"feedback-loop-3l3","title":"Write GitHub Copilot integration guide","description":"Create integration guide for GitHub Copilot (limited integration).\n\n## Research Findings (from e2d investigation)\n\n### Extension Points\n1. **.github/copilot-instructions.md** - Repository-wide instructions (TEXT ONLY)\n2. **.github/instructions/*.instructions.md** - Path-specific instructions with YAML frontmatter\n3. **Organization instructions** - Team-wide defaults (Enterprise only)\n4. **copilot-setup-steps.yml** - Pre-install tools for Coding Agent\n5. **MCP servers** - For Agent Mode only\n\n### Critical Limitation\n**Copilot cannot execute shell commands** in standard Chat/Edit modes. Instructions are TEXT GUIDANCE ONLY.\n\n### Agent Mode (Best for floop)\n- Can execute terminal commands with approval\n- MCP server integration available\n- Requires explicit user invocation\n\n### Deliverables\n1. `docs/integrations/github-copilot.md` - Full guide with:\n   - Clear limitations section upfront\n   - Static instructions setup\n   - Agent Mode integration\n   - MCP server option (requires floop mcp-server)\n   - copilot-setup-steps.yml for Coding Agent\n   - Troubleshooting\n2. `templates/github-copilot/` directory with:\n   - `copilot-instructions.md` template\n   - `go-files.instructions.md` example\n   - `copilot-setup-steps.yml` template\n\n### Key Instruction Example\n```markdown\n# .github/copilot-instructions.md\n## Behavior Learning\nThis repo uses floop. Before implementing changes, remind the user to run:\nfloop active --file \"$FILE\" --task \"$TASK\" --json\n```\n\n### Limitations (CRITICAL)\n- Standard Copilot CANNOT execute commands\n- Instructions are guidance text only\n- No hooks or callbacks\n- Agent Mode required for any automation\n- MCP only available in VS Code Agent Mode\n\n### Sources\n- https://docs.github.com/copilot/customizing-copilot/adding-custom-instructions-for-github-copilot\n- https://github.blog/ai-and-ml/github-copilot/agent-mode-101/\n- https://docs.github.com/en/copilot/how-tos/use-copilot-agents/coding-agent/customize-the-agent-environment","status":"open","priority":3,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T08:34:28.393176091-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T08:34:28.393176091-08:00"}
{"id":"feedback-loop-6da","title":"Document Phase 1 implementation plan","description":"Break down Phase 1 epic into concrete implementation steps with clear acceptance criteria. Create sub-tasks for each component: models, store interface, memory store, CLI commands.","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T16:40:24.891068477-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-25T16:43:19.959743792-08:00","closed_at":"2026-01-25T16:43:19.959743792-08:00","close_reason":"Created docs/PLAN.md with detailed Phase 1 breakdown. Created beads for: models (mz2), store (0k8), CLI (0z3). Set up dependencies to enforce implementation order."}
{"id":"feedback-loop-6jz","title":"Write Continue.dev integration guide","description":"Create comprehensive integration guide for Continue.dev.\n\n## Research Findings (from e2d investigation)\n\n### Extension Points\n1. **config.yaml** - Main configuration (`~/.continue/config.yaml`)\n2. **Rules** - Markdown files with frontmatter (`~/.continue/rules/` or `.continue/rules/`)\n3. **MCP servers** - Full MCP support (`.continue/mcpServers/*.yaml`)\n4. **Slash commands/prompts** - Custom `/commands`\n5. **Tool permissions** - `~/.continue/permissions.yaml`\n\n### MCP Server (Best for floop)\n- Expose floop as MCP tools: `floop_active`, `floop_learn`\n- MCP only works in Agent mode (not Chat/Edit modes)\n\n### Deliverables\n1. `docs/integrations/continue.md` - Full guide with:\n   - Overview of Continue extension mechanisms\n   - Quick start with rules\n   - Full configuration with MCP server\n   - Tool permissions setup\n   - Troubleshooting\n2. `templates/continue/` directory with:\n   - `floop.md` rules template\n   - `floop.yaml` MCP server config\n   - `permissions.yaml` template\n\n### Key MCP Config Example\n```yaml\n# .continue/mcpServers/floop.yaml\nname: Floop Behavior Learning\nversion: 0.0.1\nschema: v1\nmcpServers:\n  - name: floop\n    command: floop\n    args: [mcp-server]\n```\n\n### Limitations\n- MCP only works in Agent mode\n- No automatic pre-task hooks\n- Rules are static text (cannot execute code)\n- Context providers must be manually invoked with @\n\n### Sources\n- https://docs.continue.dev/customize/deep-dives/mcp\n- https://docs.continue.dev/customize/deep-dives/rules\n- https://docs.continue.dev/guides/cli","status":"open","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T08:33:04.031387137-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T08:33:04.031387137-08:00"}
{"id":"feedback-loop-72j","title":"Implement floop generate command for static summary","description":"Implement `floop generate` command to output static summary files for tools that prefer reading files over executing commands.\n\n## Background\n\nSome AI tools (especially Aider) work better with static context files that can be cached. This command generates a markdown summary of active behaviors that can be loaded with `--read`.\n\n## Deliverables\n\n### 1. New Command: `floop generate`\nGenerate static summary files from floop data.\n\n### Subcommands/Flags\n| Flag | Output |\n|------|--------|\n| `--summary` | Markdown summary of all behaviors |\n| `--active` | Markdown of currently active behaviors |\n| `--format md\\|json\\|yaml` | Output format (default: md) |\n| `--output FILE` | Write to file instead of stdout |\n\n### 2. Example Usage\n```bash\n# Generate summary for Aider\nfloop generate --summary \u003e .floop/BEHAVIORS.md\n\n# Generate active context before starting work\nfloop generate --active --file main.go --task refactor \u003e .floop/active-context.md\n\n# In .aider.conf.yml\nread:\n  - .floop/BEHAVIORS.md\n```\n\n### 3. Output Format (Markdown)\n```markdown\n# floop Learned Behaviors\n\nGenerated: 2026-01-27T10:00:00Z\nTotal behaviors: 5\n\n## Active Behaviors\n\n### [preference] Use uv instead of pip\n- **When:** language=python\n- **Avoid:** using pip for dependencies\n- **Prefer:** use uv instead\n- **Confidence:** 0.8\n\n### [directive] Always wrap errors with context\n- **When:** language=go\n- **Do:** wrap errors with fmt.Errorf(\"context: %w\", err)\n- **Confidence:** 0.9\n\n## All Behaviors\n[Full list...]\n```\n\n### 4. Integration with Aider Workflow\n```bash\n#!/bin/bash\n# aider-floop wrapper\nfloop generate --active --file \"$1\" --task \"$2\" \u003e .floop/active-context.md\naider --read .floop/active-context.md \"$@\"\n```\n\n## Dependencies\n- Requires behaviors to be queryable (Phase 2+)\n\n## Testing\n- Test markdown output formatting\n- Test JSON/YAML output\n- Test file writing with --output","status":"closed","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T08:42:35.573287521-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-28T21:31:50.774703565-08:00","closed_at":"2026-01-28T21:31:50.774703565-08:00","close_reason":"Deprioritized in favor of MCP server (feedback-loop-ol7). Static file generation is read-only and manual; MCP provides bidirectional, automatic integration. Primary users (AI agents) benefit more from live protocol than static snapshots. Can revisit if specific tool integration requires it."}
{"id":"feedback-loop-7b0","title":"Wire CLI to use internal/models and internal/store","description":"The CLI currently works as a standalone stub writing raw JSONL. It needs to be integrated with:\n- internal/models (Correction, Behavior types)\n- internal/store (InMemoryGraphStore)\n\nThis connects Phase 1's two disconnected pieces: the tested internal packages and the working CLI stub.\n\nAcceptance criteria:\n- floop learn uses models.Correction\n- floop list reads from GraphStore\n- CLI has test coverage \u003e0%","status":"closed","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T17:40:10.852594486-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-25T17:45:20.675006064-08:00","closed_at":"2026-01-25T17:45:20.675006064-08:00","close_reason":"Wired CLI to internal/models and store: learn uses models.Correction, list parses into []models.Correction, CLI test coverage at 60.2%"}
{"id":"feedback-loop-9cq","title":"Write Aider integration guide","description":"Create comprehensive integration guide for Aider.\n\n## Research Findings (from e2d investigation)\n\n### Extension Points\n1. **CONVENTIONS.md** - Coding conventions loaded via `--read` or `/read` command\n2. **.aider.conf.yml** - Configuration file (global: `~/.aider.conf.yml`, project: `./.aider.conf.yml`)\n3. **Prompt caching** - Read-only files are cached with `--cache-prompts`\n4. **/run command** - Execute shell commands (but no pre/post hooks)\n\n### Recommended Integration (Wrapper + CONVENTIONS.md)\n- Create CONVENTIONS.md with floop instructions\n- Use wrapper script to run `floop active` before starting Aider\n- Configure .aider.conf.yml to auto-load floop context file\n\n### Deliverables\n1. `docs/integrations/aider.md` - Full guide with:\n   - Overview of Aider extension mechanisms\n   - Quick start with CONVENTIONS.md\n   - Full configuration with wrapper script\n   - Prompt caching optimization\n   - Troubleshooting\n2. `templates/aider/` directory with:\n   - `CONVENTIONS.md` template\n   - `.aider.conf.yml` template\n   - `aider-floop` wrapper script\n\n### Key Config Example\n```yaml\n# .aider.conf.yml\nread:\n  - CONVENTIONS.md\n  - .floop/active-context.md\ncache-prompts: true\ncache-keepalive-pings: 1\n```\n\n### Limitations\n- NO pre-edit hooks (only post-edit lint/test)\n- NO custom slash commands (feature requested)\n- Must use wrapper script for automatic floop invocation\n- Config file MUST be .yml not .yaml\n\n### Sources\n- https://aider.chat/docs/usage/conventions.html\n- https://aider.chat/docs/config/aider_conf.html\n- https://aider.chat/docs/usage/caching.html","status":"open","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T08:31:30.836191061-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T08:31:30.836191061-08:00"}
{"id":"feedback-loop-acx","title":"Implement behavior curation commands (forget, merge, deprecate)","description":"Add CLI commands for managing/curating learned behaviors:\n\n## Commands Needed\n\n### floop forget \u003cid\u003e\n- Remove a behavior entirely from the graph\n- Should prompt for confirmation unless --force\n- Record who deleted and why in audit log\n\n### floop merge \u003cid1\u003e \u003cid2\u003e\n- Combine two similar behaviors into one\n- Interactively resolve conflicts (which 'when' conditions, which content)\n- Keep provenance chain from both source behaviors\n- Delete the source behaviors after merge\n\n### floop deprecate \u003cid\u003e --reason '...'\n- Soft-delete: mark behavior as deprecated, not active\n- Keeps history/provenance for learning\n- Can be undone with floop restore \u003cid\u003e\n\n### floop restore \u003cid\u003e\n- Restore a deprecated behavior\n\n## Design Considerations\n- The GraphStore already has DeleteNode, but CLI needs confirmation flows\n- RejectPending exists but only works for pending behaviors\n- Need to handle behaviors that are referenced by other behaviors (conflicts/overrides/requires edges)\n- Should merge update similarity scores for related behaviors?\n\n## Future Considerations\n- Automatic decay: behaviors that are never activated could auto-deprecate after N days\n- Consolidation: periodic job to suggest merges for similar behaviors\n- Prune: remove deprecated behaviors older than X days\n\nDepends on Phase 2 (learning loop) being complete first.","status":"closed","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T17:47:10.546401306-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-28T21:31:33.303624927-08:00","closed_at":"2026-01-28T21:31:33.303624927-08:00","close_reason":"All curation commands implemented and working: forget, merge, deprecate, restore. Updated to use MultiGraphStore in ek2.8. Commands verified in CLI help."}
{"id":"feedback-loop-akm","title":"Update AGENTS.md for feedback-loop project","description":"Clean up AGENTS.md to be project-specific: include floop usage, Go guidelines reference, testing requirements, and proper development workflow. Remove generic bv boilerplate.","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T16:48:13.494669877-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-25T16:53:12.682644198-08:00","closed_at":"2026-01-25T16:53:12.682644198-08:00","close_reason":"Rewrote AGENTS.md with project-specific workflow: floop dogfooding, beads integration, Go guidelines reference, testing requirements, and session protocol."}
{"id":"feedback-loop-aq1","title":"Write Claude Code integration guide","description":"Create comprehensive integration guide for Claude Code.\n\n## Research Findings (from e2d investigation)\n\n### Extension Points\n1. **CLAUDE.md / AGENTS.md** - Project instructions loaded at session start\n2. **Hooks** (`.claude/settings.json`) - `SessionStart`, `UserPromptSubmit`, `PreToolUse`, `PostToolUse`, `Stop`\n3. **Skills** (`.claude/skills/\u003cname\u003e/SKILL.md`) - Custom slash commands\n4. **Subagents** (`.claude/agents/\u003cname\u003e.md`) - Specialized agents\n\n### Recommended Integration (Hybrid Approach)\n- **SessionStart hook**: Load active behaviors at startup\n- **Stop hook (prompt-based)**: Detect corrections needing capture  \n- **Skills**: Manual `/floop-learn` and `/floop-check` commands\n\n### Deliverables\n1. `docs/integrations/claude-code.md` - Full guide with:\n   - Overview of extension mechanisms\n   - Quick start (minimal setup)\n   - Full configuration (hooks + skills)\n   - Example hook scripts\n   - Troubleshooting\n2. `templates/claude-code/` directory with:\n   - `settings.json` template\n   - Hook scripts (`floop-session-start.sh`, etc.)\n   - `SKILL.md` templates\n\n### Key Config Example\n```json\n{\n  \"hooks\": {\n    \"SessionStart\": [{\n      \"hooks\": [{\n        \"type\": \"command\",\n        \"command\": \"\\\"$CLAUDE_PROJECT_DIR\\\"/.claude/hooks/floop-session-start.sh\"\n      }]\n    }]\n  }\n}\n```\n\n### Sources\n- https://code.claude.com/docs/en/hooks\n- https://code.claude.com/docs/en/skills\n- https://code.claude.com/docs/en/sub-agents","status":"open","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T08:25:57.867120547-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T08:25:57.867120547-08:00"}
{"id":"feedback-loop-cia","title":"Write Windsurf integration guide","description":"Create comprehensive integration guide for Windsurf/Cascade.\n\n## Research Findings (from e2d investigation)\n\n### Extension Points\n1. **.windsurf/rules/** - Rule files (markdown, no frontmatter - activation via GUI)\n2. **.windsurf/workflows/** - Reusable workflows invoked with `/command`\n3. **Memories** - Persistent context system (`~/.codeium/windsurf/memories/`)\n4. **MCP servers** - Full MCP support (`~/.codeium/windsurf/mcp_config.json`)\n5. **AGENTS.md** - Cross-tool standard supported\n6. **Terminal allowlist** - Auto-approve specific commands\n\n### Recommended Integration (Rules + Workflows + Allowlist)\n- Create rule file for always-on floop instructions\n- Create workflows for `/floop-start` and `/floop-correction`\n- Add floop commands to terminal allowlist\n\n### Deliverables\n1. `docs/integrations/windsurf.md` - Full guide with:\n   - Overview of Windsurf extension mechanisms\n   - Quick start with rules\n   - Full configuration with workflows\n   - MCP server option\n   - Terminal allowlist setup\n   - Troubleshooting\n2. `templates/windsurf/` directory with:\n   - `floop-integration.md` rules template\n   - `floop-start.md` workflow template\n   - `floop-correction.md` workflow template\n   - `mcp_config.json` snippet\n\n### Key Workflow Example\n```markdown\n# Start Task with floop\nCheck for learned behaviors before beginning work.\n## Steps\n1. Identify current file and task\n2. Run: floop active --file \"$FILE\" --task \"$TASK\" --json\n3. Apply returned behaviors\n```\n\n### Limitations\n- No YAML frontmatter - activation modes set via GUI only\n- Character limits: 6K per rule, 12K total, 12K per workflow\n- GUI-dependent configuration (not fully version-controllable)\n- Max 100 MCP tools active at once\n\n### Sources\n- https://docs.windsurf.com/windsurf/cascade/cascade\n- https://docs.windsurf.com/windsurf/cascade/workflows\n- https://docs.windsurf.com/windsurf/cascade/mcp","status":"open","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T08:33:58.211344894-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T08:33:58.211344894-08:00"}
{"id":"feedback-loop-dgv","title":"Write OpenAI Codex CLI integration guide","description":"Create comprehensive integration guide for OpenAI Codex CLI.\n\n## Research Findings (from e2d investigation)\n\n### Extension Points\n1. **AGENTS.md** - Native support with precedence chain (global → project → directory)\n2. **Skills** (`~/.codex/skills/\u003cname\u003e/SKILL.md` or `.codex/skills/`) - Task-specific workflows\n3. **config.toml** (`~/.codex/config.toml`) - `developer_instructions` field\n4. **MCP servers** - Full MCP support in config.toml\n\n### Recommended Integration (Skill + AGENTS.md)\n- Create a floop skill with comprehensive description for auto-triggering\n- Add AGENTS.md section for fallback guidance\n- Optional: MCP server for deeper integration\n\n### Deliverables\n1. `docs/integrations/codex.md` - Full guide with:\n   - Overview of Codex CLI extension mechanisms\n   - Quick start with AGENTS.md\n   - Full configuration with Skills\n   - MCP integration option\n   - Troubleshooting\n2. `templates/codex/` directory with:\n   - `SKILL.md` template for floop\n   - `AGENTS.md` section template\n   - `config.toml` snippet\n\n### Key Skill Example\n```yaml\n---\nname: floop\ndescription: \"Behavior learning integration. ALWAYS use before editing files to check active behaviors with floop active. Use floop learn when corrected.\"\n---\n# Floop Behavior Learning\n...\n```\n\n### Limitations\n- No pre-task hooks (requested in GitHub issues but not implemented)\n- Skills triggered by model judgment based on description\n- `developer_instructions` may not be consistently picked up\n\n### Sources\n- https://developers.openai.com/codex/skills/\n- https://developers.openai.com/codex/guides/agents-md\n- https://developers.openai.com/codex/mcp/","status":"open","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T08:30:31.091497508-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T08:30:31.091497508-08:00"}
{"id":"feedback-loop-e2d","title":"Research AI tool integration requirements for feedback-loop","description":"Investigate and document what prompts, hooks, or configuration is needed for AI coding assistants to start using feedback-loop for learning. This includes:\n\n- **Claude Code**: What AGENTS.md sections, system prompts, or hooks are needed?\n- **Codex/OpenAI tools**: What configuration or context files do they use?\n- **Other terminal AI tools**: Aider, Cursor, Continue, etc.\n\nDeliverables:\n1. Research each tool's extension points (prompts, hooks, context files)\n2. Design the integration approach for each tool\n3. Document the required additions to AGENTS.md or new files\n4. Create follow-up beads for implementing each integration\n\nReference: The feedback-loop system stores interaction patterns and learnings that AI tools should leverage when working in this codebase.","status":"closed","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T17:06:36.392507595-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T08:44:02.154185422-08:00","closed_at":"2026-01-27T08:44:02.154185422-08:00","close_reason":"Research complete. Created 11 follow-up beads:\n- P1: Documentation structure (2vt), Claude Code (aq1), Codex (dgv), Aider (9cq)\n- P2: Cursor (qke), Cline (3er), Continue (6jz), Windsurf (cia), MCP server (ol7), floop generate (72j)\n- P3: GitHub Copilot (3l3)\n\nKey findings documented in each bead with extension points, config examples, and limitations."}
{"id":"feedback-loop-ek2","title":"Epic: Global + Local Storage System","description":"Implement two-tier behavior storage: global (~/.floop/) for personal preferences across all projects, and local (./.floop/) for project-specific conventions. Local overrides global on conflicts.\n\nArchitecture: MultiGraphStore wrapper pattern wrapping two BeadsGraphStore instances.\n\nSuccess Criteria:\n- floop learn --scope global saves to ~/.floop/\n- floop learn --scope local saves to ./.floop/\n- floop active merges both stores with local winning\n- All existing .floop/ directories work unchanged\n- Full test coverage\n\nPlan: /home/nvandessel/.claude/plans/shimmying-squishing-knuth.md","status":"closed","priority":1,"issue_type":"epic","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T22:13:17.95827601-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-28T21:31:42.206716391-08:00","closed_at":"2026-01-28T21:31:42.206716391-08:00","close_reason":"Global+Local storage system complete. All 9 implementation tasks done (ek2.1-ek2.9). MultiGraphStore working with full test coverage. Integration testing passed. Only ek2.10 (docs) remains as separate P2 task."}
{"id":"feedback-loop-ek2.1","title":"Create path utilities (internal/store/paths.go)","description":"Create internal/store/paths.go with helper functions for global/local path resolution.\n\nFunctions needed:\n- GlobalFloopPath() (string, error) - Returns ~/.floop on Unix, %USERPROFILE%\\.floop on Windows\n- LocalFloopPath(projectRoot string) string - Returns projectRoot/.floop\n- EnsureGlobalFloopDir() error - Creates ~/.floop if it doesn't exist\n\nCross-platform support using os.UserHomeDir() and filepath.Join().\n\nEstimated: 30 minutes\nFile: internal/store/paths.go (~50 lines)","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T22:13:26.319594347-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T22:21:25.455092553-08:00","closed_at":"2026-01-27T22:21:25.455092553-08:00","close_reason":"Completed path utilities with GlobalFloopPath, LocalFloopPath, and EnsureGlobalFloopDir functions. All tests passing with good coverage (75-100% per function). Cross-platform support via os.UserHomeDir and filepath.Join.","dependencies":[{"issue_id":"feedback-loop-ek2.1","depends_on_id":"feedback-loop-ek2","type":"parent-child","created_at":"2026-01-27T22:13:26.320877137-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-ek2.10","title":"Update documentation for global/local storage","description":"Update project documentation to explain global/local storage feature.\n\nFiles to update:\n\n1. README.md - Add section:\n   - Global vs Local Behaviors overview\n   - Usage examples for --scope flag\n   - Examples for --global and --all flags\n   - Conflict resolution explanation (local \u003e global)\n\n2. docs/SPEC.md - Document:\n   - MultiGraphStore architecture\n   - Query merging strategy\n   - Write routing strategy\n   - Conflict resolution rules\n   - Thread safety guarantees\n\n3. docs/FLOOP_USAGE.md - Add:\n   - Examples of global vs local learning\n   - When to use each scope\n   - Best practices for scope selection\n   - Common patterns for agent usage\n\nEstimated: 30 minutes\nFiles: README.md, docs/SPEC.md, docs/FLOOP_USAGE.md","status":"open","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T22:15:03.911228311-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T22:15:03.911228311-08:00","dependencies":[{"issue_id":"feedback-loop-ek2.10","depends_on_id":"feedback-loop-ek2","type":"parent-child","created_at":"2026-01-27T22:15:03.912961095-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.10","depends_on_id":"feedback-loop-ek2.9","type":"blocks","created_at":"2026-01-27T22:15:03.91491217-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-ek2.2","title":"Implement MultiGraphStore wrapper (internal/store/multi.go)","description":"Create internal/store/multi.go implementing GraphStore interface that wraps local + global BeadsGraphStore instances.\n\nComponents:\n- StoreScope enum (ScopeLocal, ScopeGlobal, ScopeBoth)\n- MultiGraphStore struct with localStore, globalStore, writeScope, sync.RWMutex\n- Implement all GraphStore interface methods:\n  * QueryNodes - parallel query, merge with local winning\n  * AddNode - route based on writeScope\n  * GetNode - check local first, fallback to global\n  * UpdateNode - find in either store, update in place\n  * DeleteNode - remove from both (idempotent)\n  * AddEdge/RemoveEdge/GetEdges - merge logic\n  * Traverse - delegate to appropriate store\n  * Sync/Close - call both stores\n- Helper functions: mergeNodes, mergeEdges\n- NewStoreFromConfig factory function\n\nThread-safe by delegation to thread-safe stores.\n\nEstimated: 2-3 hours\nFile: internal/store/multi.go (~400 lines)","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T22:13:45.333190532-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T22:28:31.137305526-08:00","closed_at":"2026-01-27T22:28:31.137305526-08:00","close_reason":"Implemented MultiGraphStore wrapper with local/global store support. Features: StoreScope enum, parallel QueryNodes with local-wins merging, scope-based write routing, comprehensive test coverage (78.5%). All GraphStore interface methods implemented. Tests verify conflict resolution, sync operations, and edge handling.","dependencies":[{"issue_id":"feedback-loop-ek2.2","depends_on_id":"feedback-loop-ek2","type":"parent-child","created_at":"2026-01-27T22:13:45.334769217-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.2","depends_on_id":"feedback-loop-ek2.1","type":"blocks","created_at":"2026-01-27T22:13:45.336359033-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-ek2.3","title":"Create MultiGraphStore tests (internal/store/multi_test.go)","description":"Create comprehensive test suite for MultiGraphStore.\n\nTest scenarios:\n- TestMultiGraphStore_QueryNodes_LocalWins - Verify local overrides global on ID conflicts\n- TestMultiGraphStore_AddNode_ScopeLocal - Write to local only\n- TestMultiGraphStore_AddNode_ScopeGlobal - Write to global only\n- TestMultiGraphStore_AddNode_ScopeBoth - Write to both stores\n- TestMultiGraphStore_GetNode_PreferLocal - Local checked first, fallback to global\n- TestMultiGraphStore_UpdateNode_FindsCorrectStore - Updates in correct store\n- TestMultiGraphStore_DeleteNode_BothStores - Deletes from both idempotently\n- TestMultiGraphStore_Sync_BothStores - Syncs both stores\n- TestMultiGraphStore_ConflictResolution - Local wins merge logic\n- TestMultiGraphStore_EdgeMerging - Edge deduplication\n- TestMultiGraphStore_Concurrency - Thread safety\n\nUse temporary directories for test isolation.\n\nEstimated: 1-2 hours\nFile: internal/store/multi_test.go (~300 lines)","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T22:13:55.664761607-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-28T21:31:26.055227234-08:00","closed_at":"2026-01-28T21:31:26.055227234-08:00","close_reason":"Tests already exist (internal/store/multi_test.go, 568 lines). All 35 test cases passing. Created during ek2.2 implementation.","dependencies":[{"issue_id":"feedback-loop-ek2.3","depends_on_id":"feedback-loop-ek2","type":"parent-child","created_at":"2026-01-27T22:13:55.666464525-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.3","depends_on_id":"feedback-loop-ek2.2","type":"blocks","created_at":"2026-01-27T22:13:55.668157515-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-ek2.4","title":"Update CLI learn command with --scope flag","description":"Modify newLearnCmd in cmd/floop/main.go to support --scope flag.\n\nChanges:\n- Add flag: --scope with values local|global|both (default: local)\n- Parse scope and convert to store.StoreScope enum\n- Replace NewBeadsGraphStore with NewMultiGraphStore(root, storeScope)\n- Maintain existing error handling and output patterns\n\nPattern:\n  scope, _ := cmd.Flags().GetString(\"scope\")\n  storeScope := store.ScopeLocal\n  switch scope {\n  case \"global\": storeScope = store.ScopeGlobal\n  case \"both\": storeScope = store.ScopeBoth\n  }\n  graphStore, err := store.NewMultiGraphStore(root, storeScope)\n\nEstimated: 30 minutes\nFile: cmd/floop/main.go (lines ~120-250)","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T22:14:06.904962029-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-28T08:14:26.470692023-08:00","closed_at":"2026-01-28T08:14:26.470692023-08:00","close_reason":"Added --scope flag to learn command with values local/global/both (default: local). Uses NewMultiGraphStore for routing. Validates scope values. All tests passing. Successfully tested all three scopes.","dependencies":[{"issue_id":"feedback-loop-ek2.4","depends_on_id":"feedback-loop-ek2","type":"parent-child","created_at":"2026-01-27T22:14:06.90656002-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.4","depends_on_id":"feedback-loop-ek2.2","type":"blocks","created_at":"2026-01-27T22:14:06.908182988-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-ek2.5","title":"Update CLI list command with --global and --all flags","description":"Modify newListCmd in cmd/floop/main.go to support global/local/both listing.\n\nChanges:\n- Add flag: --global (show global behaviors only)\n- Add flag: --all (show both local and global, merged)\n- Default: local only (existing behavior)\n- Route to appropriate store based on flags:\n  * --all: NewMultiGraphStore (merged)\n  * --global: NewBeadsGraphStore(globalPath)\n  * default: NewBeadsGraphStore(root)\n\nPattern:\n  globalOnly, _ := cmd.Flags().GetBool(\"global\")\n  showAll, _ := cmd.Flags().GetBool(\"all\")\n  \n  if showAll {\n      graphStore = store.NewMultiGraphStore(root, store.ScopeLocal)\n  } else if globalOnly {\n      globalPath, _ := store.GlobalFloopPath()\n      graphStore = store.NewBeadsGraphStore(filepath.Dir(globalPath))\n  } else {\n      graphStore = store.NewBeadsGraphStore(root)\n  }\n\nEstimated: 30 minutes\nFile: cmd/floop/main.go (lines ~360-450)","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T22:14:16.488172153-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-28T18:02:19.65317851-08:00","closed_at":"2026-01-28T18:02:19.65317851-08:00","close_reason":"Implemented --global and --all flags for list command with comprehensive tests. All tests passing.","dependencies":[{"issue_id":"feedback-loop-ek2.5","depends_on_id":"feedback-loop-ek2","type":"parent-child","created_at":"2026-01-27T22:14:16.489555661-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.5","depends_on_id":"feedback-loop-ek2.2","type":"blocks","created_at":"2026-01-27T22:14:16.491159594-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-ek2.6","title":"Update CLI query commands to use MultiGraphStore","description":"Modify newActiveCmd, newShowCmd, newWhyCmd, newPromptCmd to always query both stores.\n\nCommands to update:\n- newActiveCmd - always merge local + global behaviors\n- newShowCmd - search both stores for behavior\n- newWhyCmd - search both stores for provenance chain\n- newPromptCmd - generate prompts from merged behaviors\n\nChanges:\nReplace: graphStore, err := store.NewBeadsGraphStore(root)\nWith: graphStore, err := store.NewMultiGraphStore(root, store.ScopeLocal)\n\nThese commands should always check both stores with local winning on conflicts.\nNo flags needed - merging is the expected behavior for activation/queries.\n\nEstimated: 30 minutes\nFile: cmd/floop/main.go (multiple functions)","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T22:14:25.695892258-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-28T20:01:48.790706632-08:00","closed_at":"2026-01-28T20:01:48.790706632-08:00","close_reason":"Updated query commands (active, show, why, prompt) to use MultiGraphStore. All tests passing.","dependencies":[{"issue_id":"feedback-loop-ek2.6","depends_on_id":"feedback-loop-ek2","type":"parent-child","created_at":"2026-01-27T22:14:25.697100898-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.6","depends_on_id":"feedback-loop-ek2.2","type":"blocks","created_at":"2026-01-27T22:14:25.698981881-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-ek2.7","title":"Update CLI init command with --global flag","description":"Modify newInitCmd to support global .floop initialization.\n\nChanges:\n- Add flag: --global (initialize ~/.floop/ instead of ./.floop/)\n- When --global is set:\n  * Call store.EnsureGlobalFloopDir()\n  * Get globalPath from store.GlobalFloopPath()\n  * Create manifest.yaml in globalPath\n  * Output success message with global path\n- Maintain existing local initialization as default\n\nPattern:\n  globalInit, _ := cmd.Flags().GetBool(\"global\")\n  if globalInit {\n      if err := store.EnsureGlobalFloopDir(); err \\!= nil {\n          return fmt.Errorf(\"failed to initialize global directory: %w\", err)\n      }\n      globalPath, _ := store.GlobalFloopPath()\n      // Create manifest in globalPath\n  }\n\nEstimated: 30 minutes\nFile: cmd/floop/main.go (lines ~75-120)","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T22:14:35.544156765-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-28T17:45:34.405893433-08:00","closed_at":"2026-01-28T17:45:34.405893433-08:00","close_reason":"Added --global flag to init command. When set, initializes ~/.floop/ instead of ./.floop/. Uses EnsureGlobalFloopDir() and GlobalFloopPath(). Updates output messages to indicate scope. All tests passing.","dependencies":[{"issue_id":"feedback-loop-ek2.7","depends_on_id":"feedback-loop-ek2","type":"parent-child","created_at":"2026-01-27T22:14:35.545755658-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.7","depends_on_id":"feedback-loop-ek2.1","type":"blocks","created_at":"2026-01-27T22:14:35.547432868-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-ek2.8","title":"Update curation commands to use MultiGraphStore","description":"Modify curation commands (forget, deprecate, restore, merge) to search both stores.\n\nCommands to update:\n- newForgetCmd - search both stores for behavior to forget\n- newDeprecateCmd - search both stores for behavior to deprecate\n- newRestoreCmd - search both stores for behavior to restore\n- newMergeCmd - search both stores for source and target behaviors\n\nChanges:\nReplace: graphStore, err := store.NewBeadsGraphStore(root)\nWith: graphStore, err := store.NewMultiGraphStore(root, store.ScopeLocal)\n\nUpdates happen in whichever store contains the behavior (MultiGraphStore.UpdateNode handles routing).\n\nEstimated: 45 minutes\nFile: cmd/floop/main.go (multiple functions: forget ~line 943, deprecate ~line 1073, restore ~line 1214, merge ~line 1355)","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T22:14:43.614931403-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-28T20:01:48.857522706-08:00","closed_at":"2026-01-28T20:01:48.857522706-08:00","close_reason":"Updated curation commands (forget, deprecate, restore, merge) to use MultiGraphStore. All tests passing.","dependencies":[{"issue_id":"feedback-loop-ek2.8","depends_on_id":"feedback-loop-ek2","type":"parent-child","created_at":"2026-01-27T22:14:43.616204745-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.8","depends_on_id":"feedback-loop-ek2.2","type":"blocks","created_at":"2026-01-27T22:14:43.617960833-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-ek2.9","title":"Integration testing for global/local storage","description":"Perform end-to-end integration testing of global/local storage feature.\n\nTest scenarios:\n1. Initialize both scopes: floop init \u0026\u0026 floop init --global\n2. Learn globally: floop learn --scope global --wrong X --right Y\n3. Learn locally (override): floop learn --scope local --wrong Y --right Z\n4. Verify local wins: floop active --file test.py\n5. Test list commands: floop list, floop list --global, floop list --all\n6. Test backwards compatibility: existing .floop/ works unchanged\n7. Test edge cases: missing global dir, partial failures, concurrent access\n\nVerification:\n- Build: go build ./cmd/floop\n- Unit tests pass: go test ./internal/store/... -v\n- Integration tests pass\n- All behaviors activate correctly\n- Conflict resolution works (local \u003e global)\n\nEstimated: 1 hour\nCommands: Run verification steps from plan","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T22:14:54.569438328-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-28T21:04:40.251958867-08:00","closed_at":"2026-01-28T21:04:40.251958867-08:00","close_reason":"Integration testing complete. Fixed bug where behaviors with placement confidence 0.6-0.8 were not being saved. All test scenarios passing: global/local/both scopes, list commands, local overrides global. All unit tests pass.","dependencies":[{"issue_id":"feedback-loop-ek2.9","depends_on_id":"feedback-loop-ek2","type":"parent-child","created_at":"2026-01-27T22:14:54.57087154-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.9","depends_on_id":"feedback-loop-ek2.4","type":"blocks","created_at":"2026-01-27T22:14:54.573285854-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.9","depends_on_id":"feedback-loop-ek2.5","type":"blocks","created_at":"2026-01-27T22:14:54.575474094-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.9","depends_on_id":"feedback-loop-ek2.6","type":"blocks","created_at":"2026-01-27T22:14:54.577620125-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.9","depends_on_id":"feedback-loop-ek2.7","type":"blocks","created_at":"2026-01-27T22:14:54.579839043-08:00","created_by":"Nic van Dessel"},{"issue_id":"feedback-loop-ek2.9","depends_on_id":"feedback-loop-ek2.8","type":"blocks","created_at":"2026-01-27T22:14:54.581669421-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-g2k","title":"Phase 1: Core models and CLI skeleton","status":"open","priority":2,"issue_type":"epic","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T16:20:14.755508204-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-25T16:20:14.755508204-08:00"}
{"id":"feedback-loop-guf","title":"Phase 5: Assembly - compile behaviors into prompt-ready format","description":"Implement the assembly phase that compiles activated behaviors into prompt-ready format with token optimization.\n\n## Tasks\n1. internal/assembly/compile.go - BehaviorCompiler that transforms behaviors into prompt sections\n2. internal/assembly/optimize.go - TokenOptimizer for budget management and prioritization\n3. floop prompt command - CLI command to generate agent prompt sections\n\n## Success Criteria\n- floop prompt --file main.go outputs active behaviors formatted for agent consumption\n- Token budget respected (--max-tokens flag)\n- Behaviors prioritized by confidence and relevance\n- JSON output mode for structured consumption","status":"closed","priority":1,"issue_type":"epic","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T18:00:36.008231355-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T18:18:28.831818887-08:00","closed_at":"2026-01-27T18:18:28.831818887-08:00","close_reason":"Implemented Phase 5 Assembly: compile.go, optimize.go, and floop prompt command with markdown/xml/plain formats and token optimization"}
{"id":"feedback-loop-jq3","title":"Create minimal CLI skeleton for dogfooding","description":"Build the absolute minimum floop CLI that can be used while developing: floop version, floop init (creates .floop/), and stubs for floop learn and floop list. This enables dogfooding from day one.","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T16:40:23.172955962-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-25T16:45:35.669921087-08:00","closed_at":"2026-01-25T16:45:35.669921087-08:00","close_reason":"Created minimal CLI skeleton with version, init, learn, and list commands. Installed globally via 'go install'. Ready for dogfooding - can capture corrections during development.","dependencies":[{"issue_id":"feedback-loop-jq3","depends_on_id":"feedback-loop-2bg","type":"blocks","created_at":"2026-01-25T16:40:37.702863753-08:00","created_by":"Nic van Dessel"}]}
{"id":"feedback-loop-mvd","title":"Implement BeadsGraphStore for Phase 4 persistence","description":"Implement BeadsGraphStore in internal/store/beads.go that persists the behavior graph to disk using JSONL files.\n\n## Deliverables\n\n1. `internal/store/beads.go` - BeadsGraphStore implementation\n2. `internal/store/beads_test.go` - Test coverage\n3. CLI integration - Switch from InMemoryGraphStore to BeadsGraphStore\n\n## Storage Format\n\nStore in .floop/ directory:\n- `nodes.jsonl` - All nodes (behaviors, corrections, context-snapshots)\n- `edges.jsonl` - All edges (requires, overrides, conflicts, learned-from)\n\n## Interface Methods to Implement\n\n- AddNode, GetNode, UpdateNode, DeleteNode\n- QueryNodes (predicate-based filtering)\n- AddEdge, RemoveEdge, GetEdges\n- Traverse (graph traversal)\n- Sync, Close\n\n## Acceptance Criteria\n\n- [ ] All GraphStore interface methods implemented\n- [ ] Data persists between CLI invocations\n- [ ] Tests pass with \u003e80% coverage\n- [ ] `floop learn` creates durable behavior\n- [ ] `floop list` reads from persisted store\n- [ ] `floop active` works with persisted behaviors\n\n## Dependencies\n- Phase 3 complete (done)","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T08:42:42.456027205-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T09:07:56.825834527-08:00","closed_at":"2026-01-27T09:07:56.825834527-08:00","close_reason":"Implemented BeadsGraphStore with JSONL persistence. All tests pass with 85.4% coverage. CLI now uses persistent storage."}
{"id":"feedback-loop-mz2","title":"Implement core data models (behavior, correction, context, provenance)","description":"Create internal/models/*.go files: behavior.go (Behavior, BehaviorKind, BehaviorContent, BehaviorStats, SimilarityLink), correction.go (Correction struct), context.go (ContextSnapshot with Matches method), provenance.go (Provenance, SourceType). Follow patterns from SPEC.md.","status":"closed","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T16:42:40.737909659-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-25T16:59:54.385261252-08:00","closed_at":"2026-01-25T16:59:54.385261252-08:00","close_reason":"Implemented all core data models in internal/models/: behavior.go (Behavior, BehaviorKind, BehaviorContent, BehaviorStats, SimilarityLink), correction.go (Correction), context.go (ContextSnapshot with Matches method, InferLanguage helper), provenance.go (Provenance, SourceType with IsApproved/IsPending methods). All tests passing."}
{"id":"feedback-loop-ol7","title":"Implement floop MCP server","description":"Implement floop as an MCP (Model Context Protocol) server for deeper AI tool integration.\n\n## Background\n\nMCP is supported by multiple AI tools:\n- Continue.dev (Agent mode)\n- Cursor \n- Cline\n- Windsurf/Cascade\n- GitHub Copilot (Agent mode)\n- Claude Code (future)\n\nAn MCP server allows these tools to invoke floop functionality directly as tools rather than shell commands.\n\n## Deliverables\n\n### 1. New Command: `floop mcp-server`\nStart an MCP server over stdio that exposes floop functionality.\n\n### 2. MCP Tools to Expose\n| Tool | Description | Parameters |\n|------|-------------|------------|\n| `floop_active` | Get active behaviors for context | `file`, `task` |\n| `floop_learn` | Capture a correction | `wrong`, `right`, `file` |\n| `floop_list` | List all behaviors | `--corrections` flag |\n\n### 3. Implementation\n\n```go\n// cmd/floop/mcp.go\nfunc newMCPServerCmd() *cobra.Command {\n    return \u0026cobra.Command{\n        Use:   \"mcp-server\",\n        Short: \"Run floop as an MCP server (stdio)\",\n        RunE: func(cmd *cobra.Command, args []string) error {\n            // Implement MCP protocol over stdin/stdout\n            // Use github.com/mark3labs/mcp-go or similar\n        },\n    }\n}\n```\n\n### 4. MCP Protocol Requirements\n- Transport: stdio (stdin/stdout JSON-RPC)\n- Implement: `tools/list`, `tools/call`\n- Return structured JSON responses\n\n### 5. Documentation\n- Update `docs/integrations/mcp-server.md` with usage\n- Provide config examples for each supported tool\n\n## Dependencies\n- May need MCP Go library (e.g., github.com/mark3labs/mcp-go)\n- Requires Phase 2 floop learn/active commands to be working\n\n## Testing\n- Unit tests for MCP protocol handling\n- Integration tests with at least one MCP client\n\n## Sources\n- https://modelcontextprotocol.io/\n- https://github.com/modelcontextprotocol/servers","status":"closed","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T08:35:29.128434288-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-29T17:40:19.87692991-08:00","closed_at":"2026-01-29T17:40:19.87692991-08:00","close_reason":"MCP server fully implemented: floop mcp-server command, 3 tools (floop_active, floop_learn, floop_list), 15 passing tests, comprehensive documentation"}
{"id":"feedback-loop-pd8","title":"Update GO_GUIDELINES.md for feedback-loop structure","description":"Adapt GO_GUIDELINES.md to match feedback-loop's internal/ structure (models, store, learning, activation, assembly) and remove TUI-specific content.","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T16:48:14.610439046-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-25T16:53:10.703193739-08:00","closed_at":"2026-01-25T16:53:10.703193739-08:00","close_reason":"Updated GO_GUIDELINES.md with project-specific structure, testing requirements, interface patterns, and CLI conventions."}
{"id":"feedback-loop-qke","title":"Write Cursor integration guide","description":"Create comprehensive integration guide for Cursor editor.\n\n## Research Findings (from e2d investigation)\n\n### Extension Points\n1. **.cursor/rules/*.mdc** - MDC rule files with YAML frontmatter\n2. **.cursor/hooks.json** - Hooks system (v1.7+) with lifecycle events\n3. **User Rules** - Global rules via Cursor Settings\n4. **AGENTS.md** - Cross-tool standard supported\n\n### Hooks (Best for floop)\n- `beforeSubmitPrompt` - Inject floop context\n- `afterFileEdit` - Track changes\n- Hooks receive JSON input, output `{\"cancel\": bool, \"contextModification\": string}`\n\n### Deliverables\n1. `docs/integrations/cursor.md` - Full guide with:\n   - Overview of Cursor extension mechanisms\n   - Quick start with MDC rules\n   - Full configuration with hooks\n   - MCP server option\n   - Troubleshooting\n2. `templates/cursor/` directory with:\n   - `floop-behaviors.mdc` template\n   - `hooks.json` template\n   - Hook script examples\n\n### Key Hooks Example\n```json\n{\n  \"version\": 1,\n  \"hooks\": {\n    \"beforeSubmitPrompt\": [{\n      \"command\": \"floop-cursor-hook\"\n    }]\n  }\n}\n```\n\n### Limitations\n- Rules don't affect Cursor Tab (only Chat/Inline Edit)\n- User Rules don't apply to Inline Edit (Cmd/Ctrl+K)\n- `alwaysApply: true` may not work reliably (use `globs: [\"*\"]` workaround)\n- Hooks are deterministic - can only continue/cancel, limited context injection\n\n### Sources\n- https://docs.cursor.com/context/rules\n- https://cursor.com/docs/agent/hooks\n- https://agents.md/","status":"open","priority":2,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-27T08:31:53.728804899-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T08:31:53.728804899-08:00"}
{"id":"feedback-loop-wky","title":"Update SPEC.md with new naming conventions (floop, .floop/)","description":"Replace all references to 'bg' with 'floop', 'behavior-graph' with 'feedback-loop', and '.behaviors/' with '.floop/' throughout SPEC.md. This establishes the project naming conventions before implementation begins.","status":"closed","priority":1,"issue_type":"task","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T16:36:45.173754449-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-25T16:39:54.340313616-08:00","closed_at":"2026-01-25T16:39:54.340313616-08:00","close_reason":"Updated all naming conventions in SPEC.md: bg→floop, behavior-graph→feedback-loop, .behaviors/→.floop/"}
{"id":"feedback-loop-x3o","title":"Phase 3: Activation system","status":"closed","priority":2,"issue_type":"epic","owner":"51134175+nvandessel@users.noreply.github.com","created_at":"2026-01-25T16:21:01.957430391-08:00","created_by":"Nic van Dessel","updated_at":"2026-01-27T08:33:10.757057242-08:00","closed_at":"2026-01-27T08:33:10.757057242-08:00","close_reason":"Phase 3 activation system complete: ContextBuilder, Evaluator, Resolver, and CLI commands (active, show, why)"}
